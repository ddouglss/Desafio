@page
@model AppTeste.Pages.Aneis.CreateModel

@{
    ViewData["Title"] = "Criar Anel";
}

<!-- Formulário de Seleção dos Anéis -->
<div class="container mt-5">
    <div class="row justify-content-center">
        <div class="col-md-6">
            <div class="card shadow-lg">
                <div class="card-header bg-primary text-white text-center">
                    <h4>Escolha Seu Anel do Poder</h4>
                </div>
                <div class="card-body">
                    <form method="post">
                        <div asp-validation-summary="ModelOnly" class="text-danger"></div>

                        <div class="form-group">
                            <label asp-for="Ring.Nome" class="form-label">Tipo de Anel</label>
                            <select class="form-select" asp-for="Ring.Nome">
                                <option selected>Escolher...</option>
                                <option value="Anéis Elfos">Anéis Elfos</option>
                                <option value="Anéis Anões">Anéis Anões</option>
                                <option value="Anéis Homens">Anéis Homens</option>
                                <option value="Anel Sauron">Anel Sauron</option>
                            </select>
                        </div>

                        <div class="form-group mt-3">
                            <label asp-for="Ring.Poder" class="form-label">Poder</label>
                            <input asp-for="Ring.Poder" class="form-control" placeholder="Ex: Invisibilidade" />
                            <span asp-validation-for="Ring.Poder" class="text-danger"></span>
                        </div>

                        <div class="form-group mt-3">
                            <label asp-for="Ring.Portador" class="form-label">Portador</label>
                            <input asp-for="Ring.Portador" class="form-control" placeholder="Nome do portador" />
                            <span asp-validation-for="Ring.Portador" class="text-danger"></span>
                        </div>

                        <div class="form-group mt-3">
                            <label asp-for="Ring.ForjadoPor" class="form-label">Forjado por</label>
                            <input asp-for="Ring.ForjadoPor" class="form-control" placeholder="Criador do anel" />
                            <span asp-validation-for="Ring.ForjadoPor" class="text-danger"></span>
                        </div>

                        <div class="form-group mt-4">
                            <label class="form-label">Escolha um modelo de anel</label>
                            <select class="form-select" id="imagem" name="Ring.Imagem">
                                <option selected disabled>Escolha o Anel do Poder...</option>
                                <option value="imagem1">Anéis Elfos</option>
                                <option value="imagem2">Anéis Anões</option>
                                <option value="imagem3">Anéis Homens</option>
                                <option value="imagem4">Anel Sauron</option>
                            </select>
                        </div>

                        <!-- Pré-visualização da Imagem -->
                        <div class="text-center mt-3">
                            <img src="/img/aneis2.png" alt="Pré-visualização" id="preview-img" class="img-thumbnail w-50 shadow-sm" />
                        </div>

                        <div class="form-group mt-4 text-center">
                            <button type="submit" class="btn btn-success w-100">Criar</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <script>
        const previewImg = document.getElementById('preview-img');
        const selectElement = document.getElementById('imagem');

        const imageUrls = {
            imagem1: "/img/anel1.png",
            imagem2: "/img/anel2.png",
            imagem3: "/img/anel3.png",
            imagem4: "/img/anel4.png"
        };

        selectElement.addEventListener('change', function () {
            const selectedValue = this.value;
            previewImg.src = imageUrls[selectedValue] || "/img/default.png";
        });
    </script>
}
